library(tidyverse)
library(scales)
getwd()
hs_a20 <- read_csv("clean_data/hs_aut20_csv.csv")
hs_w21 <- read_csv("clean_data/hs_win21_csv.csv")
hs_s21 <- read_csv("clean_data/hs_spr21_csv.csv")
eng_a20 <- read_csv("clean_data/eng_aut20_csv.csv")
eng_w21 <- read_csv("clean_data/eng_win21_csv.csv")
eng_s21 <- read_csv("clean_data/eng_spr21_csv.csv")
fs_a20 <- read_csv("clean_data/fs_aut20_csv.csv")
fs_w21 <- read_csv("clean_data/fs_win21_csv.csv")
fs_s21 <- read_csv("clean_data/fs_spr21_csv.csv")
hs_a20$quarter <- "Autumn"
hs_w21$quarter <- "Winter"
hs_s21$quarter <- "Spring"
eng_a20$quarter <- "Autumn"
eng_w21$quarter <- "Winter"
eng_s21$quarter <- "Spring"
fs_a20$quarter <- "Autumn"
fs_w21$quarter <- "Winter"
fs_s21$quarter <- "Spring"
df$quarter = factor(df$quarter, levels = c("Autumn", "Winter", "Spring"))
hs_a20$quarter <- "Autumn"
hs_w21$quarter <- "Winter"
hs_s21$quarter <- "Spring"
eng_a20$quarter <- "Autumn"
eng_w21$quarter <- "Winter"
eng_s21$quarter <- "Spring"
fs_a20$quarter <- "Autumn"
fs_w21$quarter <- "Winter"
fs_s21$quarter <- "Spring"
df$quarter = factor(df$quarter, levels = c("Autumn", "Winter", "Spring"))
view(df)
hs_a20 <- read_csv("clean_data/hs_aut20_csv.csv")
hs_w21 <- read_csv("clean_data/hs_win21_csv.csv")
hs_s21 <- read_csv("clean_data/hs_spr21_csv.csv")
eng_a20 <- read_csv("clean_data/eng_aut20_csv.csv")
eng_w21 <- read_csv("clean_data/eng_win21_csv.csv")
eng_s21 <- read_csv("clean_data/eng_spr21_csv.csv")
fs_a20 <- read_csv("clean_data/fs_aut20_csv.csv")
fs_w21 <- read_csv("clean_data/fs_win21_csv.csv")
fs_s21 <- read_csv("clean_data/fs_spr21_csv.csv")
hs_a20$quarter <- "Autumn"
hs_w21$quarter <- "Winter"
hs_s21$quarter <- "Spring"
eng_a20$quarter <- "Autumn"
eng_w21$quarter <- "Winter"
eng_s21$quarter <- "Spring"
fs_a20$quarter <- "Autumn"
fs_w21$quarter <- "Winter"
fs_s21$quarter <- "Spring"
df$quarter = factor(df$quarter, levels = c("Autumn", "Winter", "Spring"))
df$quarter = factor(df$quarter, levels = c("Autumn", "Winter", "Spring"))
view(df)
library(tidyverse)
library(scales)
getwd()
getwd()
#Working Directory
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
getwd()
str1 <- paste0(getwd(), "raw_data/to_be_consolidated")
str1
str1 <- paste0(getwd(), "/raw_data/to_be_consolidated")
getwd()
str1 <- paste0(getwd(), "/raw_data/to_be_consolidated")
str1
raw_path <- paste0(getwd(), "/raw_data/to_be_consolidated")
setwd('..')
getwd()
file_list <- list.files(path=raw_path)
view(file_list)
print(file_list)
source(paste0(getwd(), mailchimp_consolidator.r))
source(paste0(getwd(), "mailchimp_consolidator.r"))
source(paste0(getwd(), "/mailchimp_consolidator.r"))
getwd()
#Working Directory
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
getwd()
raw_path <- paste0(getwd(), "/raw_data/to_be_consolidated")
raw_file_names <- list.files(path=raw_path)
print(file_list)
getwd()
source(paste0(getwd(), "/mailchimp_consolidator.r"))
print(file_list)
test <- raw_file_names[1]
view(test)
print(test)
testdf <- read_csv(raw_file_names[1])
raw_path <- paste0(getwd(), "/raw_data/to_be_consolidated")
setwd(raw_path)
testdf <- read_csv(raw_file_names[1])
view(testdf)
testtable <- read_table(raw_file_names[1])
view(testtable)
?read_csv
testtable <- read_table(raw_file_names[1], col_names = c("a", "b", "c"))
view(testtable)
testtable <- read_csv(raw_file_names[1], col_names = c("a", "b", "c"))
view(testtable)
t(testtable)
testtable
view(testtable)
test <- read_csv(raw_file_names[1], col_names = c("a", "b", "c"))
view(test)
t(test)
test2 <- t(test)
view(test2)
test2 <- t(test, rownames_to_column())
t?
test2 <- t(test, rownames_to_column())
t()?
test2 <- t(test, rownames_to_column())
t()?
t?
test2 <- t(test, rownames_to_column())
t?
test2 <- t(test, rownames_to_column())
view(test2)
rownames_to_column()
rownames_to_column()?
test2 <- t(test, rownames_to_column())
rownames_to_column?
test2 <- t(test, rownames_to_column())
?rownames_to_column
view(test)
test2 <- t(test, rownames_to_column(test, 'a'))
test2 <- t(test, rownames_to_column(test, var='a'))
view(test2)
view(test)
test2 <- t(test, col_names <- test[,'a'])
test[,'a']
ncol(test2)
length(test[,'a'])
test[,'a']
nrow(test[,'a'])
ncol(test2)
col_names(test2) <- test[,'a']
colnames<-(test2, test[,'a'])
col_names<-(test2, test[,'a'])
test[,'a'] <- col_names(test2)
test[,'a'] <- colnames(test2)
test2
view(test2)
test <- read_csv(raw_file_names[1], col_names = c("a", "b", "c"))
test2 <- t(test)
view(test2)
col_names(test2) <- test[,'a']
colnames(test2) <- test[,'a']
nrow(test)
ncol(test2)
colnames(test2) <- test['a',]
colnames(test2) <- test['a',]
test['a',]
test[,'a']
class(test['a',])
pull(test, 'a')
colnames(test2) <- pull(test, 'a')
view(test2)
view(test)
test <- test[1:20]
test <- test[1:20,]
view(test)
test2 <- t(test)
colnames(test2) <- pull(test, 'a')
view(test2)
test$c <- NULL
view(test)
test2 <- t(test)
colnames(test2) <- pull(test, 'a')
view(test2)
test2[1,] <- NULL
test2 <- test2[-c('a'), ]
#not very robust, return to this
test2 <- test2[-c(1), ]
view(test2)
raw_path <- paste0(getwd(), "/raw_data/to_be_consolidated")
raw_file_names <- list.files(path=raw_path)
print(raw_file_names)
test <- raw_file_names[1]
print(test)
setwd(raw_path)
# a, b, and c are just dummy variables that won't matter soon
test <- read_csv(raw_file_names[1], col_names = c("a", "b", "c"))
test <- test[1:20,]
test$c <- NULL
test2 <- t(test)
colnames(test2) <- pull(test, 'a')
test2[1,] <- NULL
view(test2)
library(tidyverse)
library(scales)
#Working Directory
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
getwd()
raw_path <- paste0(getwd(), "/raw_data/to_be_consolidated")
raw_file_names <- list.files(path=raw_path)
print(raw_file_names)
test <- raw_file_names[1]
print(test)
print(test)
setwd(raw_path)
# a, b, and c are just dummy variables that won't matter soon
test <- read_csv(raw_file_names[1], col_names = c("a", "b", "c"))
test <- test[1:20,]
test$c <- NULL
test2 <- t(test)
colnames(test2) <- pull(test, 'a')
test2[1,] <- NULL
view(test2)
#not very robust, return to this
test2 <- test2[-c(1), ]
view(test2)
view(test)
test2 <- t(test[,'b'])
colnames(test2) <- pull(test, 'a')
view(test2)
view(test2)
# rm(test)
test2$title
view(test2)
# rm(test)
test2$title:
#not very robust, return to this
test2 <- test2[-c(1), ]
# rm(test)
test2$title:
class(test2)
# rm(test)
class(test2)
# rm(test)
test2 <- as.data.frame(test2)
test2$Title:
#not very robust, return to this
test2 <- test2[-c(1), ]
view(test2)
namevec <- colnames(test2)
view(namevec)
namevec<-gsub(":","",as.character(namevec))
view(namevec)
namevec<-gsub(":","",as.character(namevec))
colnames(test2)<-gsub(":","",as.character(colnames(test2)))
view(test2)
colnames(test2)<-gsub(" ","_",as.character(colnames(test2)))
view(test2)
?contains()
test2$Title
test2$Title
view(test2)
if(grepl('Week 1',test2$Title, fixed = TRUE)) {
test2$week <- 'Week 1'
}
view(test2)
if(grepl('Week 7',test2$Title, fixed = TRUE)) {
test2$week <- 7
}
view(test2)
test2$week <- NULL
ncol(test2)
cols(test2)
colnames(test2)
for (i in 1:10) {
if(grepl(paste0('week ', as.character(i)),test2$Title, fixed = TRUE)) {
test2$week <- i
}
}
colnames(test2)
for (i in 1:10) {
if(grepl(paste0('Week ', as.character(i)),test2$Title, fixed = TRUE)) {
test2$week <- i
}
}
colnames(test2)
view(test2)
test2$Subject_Line
